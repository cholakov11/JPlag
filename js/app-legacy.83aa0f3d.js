(function(){"use strict";var e={1728:function(e,n,t){t(6992),t(8674),t(9601),t(7727);var i=t(9963),o=t(6252),s=(0,o._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"},null,-1);function r(e,n){var t=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s,(0,o.Wm)(t)],64)}var a=t(3744);const l={},u=(0,a.Z)(l,[["render",r]]);var c=u,d=t(2119),f=t(3577),m=t(5174),p=function(e){return(0,o.dD)("data-v-5b368afb"),e=e(),(0,o.Cn)(),e},h={class:"container"},g={class:"column-container",style:{width:"30%"}},v=p((function(){return(0,o._)("h1",null,"JPlag Report",-1)})),b=p((function(){return(0,o._)("p",{class:"section-title"},"Main Info:",-1)})),_={id:"basicInfo"},y=["title"],w=p((function(){return(0,o._)("div",{id:"logo-section"},[(0,o._)("img",{id:"logo",src:m,alt:"JPlag"})],-1)})),S={class:"column-container",style:{width:"35%"}},C={id:"metrics"},k=p((function(){return(0,o._)("p",{class:"section-title"},"Metric:",-1)})),I={id:"metrics-list"},D=p((function(){return(0,o._)("p",{class:"section-title"},"Distribution:",-1)})),F={class:"column-container",style:{width:"35%"}},O=p((function(){return(0,o._)("p",{class:"section-title"},"Top Comparisons:",-1)})),x={id:"comparisonsList"};function M(e,n,t,i,s,r){var a=(0,o.up)("TextInformation"),l=(0,o.up)("IDsList"),u=(0,o.up)("MetricButton"),c=(0,o.up)("DistributionDiagram"),d=(0,o.up)("ComparisonsTable");return(0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",g,[v,b,(0,o._)("div",_,[(0,o.Wm)(a,{label:"Directory path",value:e.submissionPathValue,"has-additional-info":e.hasMoreSubmissionPaths,"additional-info-title":""},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.overview.submissionFolderPath,(function(e){return(0,o.wg)(),(0,o.iD)("p",{key:e,title:e},(0,f.zw)(e),9,y)})),128))]})),_:1},8,["value","has-additional-info"]),(0,o.Wm)(a,{label:"Language",value:e.overview.language,"has-additional-info":!0,"additional-info-title":"File extensions:"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.overview.fileExtensions,(function(e){return(0,o.wg)(),(0,o.iD)("p",{key:e},(0,f.zw)(e),1)})),128))]})),_:1},8,["value"]),(0,o.Wm)(a,{value:e.overview.matchSensitivity,label:"Match Sensitivity"},null,8,["value"]),(0,o.Wm)(a,{label:"Submissions",value:e.overview.submissionIds.length,"has-additional-info":!0,"additional-info-title":"Submission IDs:"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{ids:e.overview.submissionIds,onIdSent:e.handleId},null,8,["ids","onIdSent"])]})),_:1},8,["value"]),(0,o.Wm)(a,{label:"Date of execution",value:e.overview.dateOfExecution},null,8,["value"]),(0,o.Wm)(a,{label:"Duration (in ms)",value:e.overview.durationOfExecution},null,8,["value"])]),w]),(0,o._)("div",S,[(0,o._)("div",C,[k,(0,o._)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.overview.metrics,(function(n,t){return(0,o.wg)(),(0,o.j4)(u,{key:n.metricName,id:n.metricName,"metric-threshold":n.metricThreshold,"metric-name":n.metricName,"is-selected":e.selectedMetric[t],onClick:function(n){return e.selectMetric(t)}},null,8,["id","metric-threshold","metric-name","is-selected","onClick"])})),128))])]),D,(0,o.Wm)(c,{class:"full-width",distribution:e.distributions[e.selectedMetricIndex]},null,8,["distribution"])]),(0,o._)("div",F,[O,(0,o._)("div",x,[(0,o.Wm)(d,{"top-comparisons":e.topComps[e.selectedMetricIndex],clusters:e.overview.clusters},null,8,["top-comparisons","clusters"])])])])}t(7327),t(1539),t(1249);var Z=t(2262),T=(t(189),t(8783),t(3948),t(8637)),P=(0,T.MT)({state:function(){return{anonymous:new Set,files:Object,local:Boolean,zip:Boolean,single:Boolean,fileString:{type:String,required:!1}}},mutations:{addAnonymous:function(e,n){for(var t=0;t<n.length;t++)e.anonymous.add(n[t])},removeAnonymous:function(e,n){for(var t=0;t<n.length;t++)e.anonymous.delete(n[t])},resetAnonymous:function(e){e.anonymous=new Set},saveFile:function(e,n){e.files[n.fileName]=n.data},setLoadingType:function(e,n){e.local=n.local,e.zip=n.zip,e.single=n.single,e.fileString=n.fileString}}}),z=P,H=t(6108),L=t(6838),N=function(e){return(0,o.dD)("data-v-6396abae"),e=e(),(0,o.Cn)(),e},E={class:"wrapper"},A={class:"text-container"},j={class:"label-text"},W=["title"],B={key:0,src:H,alt:"hide info"},V={key:1,src:L,alt:"additional info"},q={class:"additional-info-title"},Y=N((function(){return(0,o._)("hr",null,null,-1)}));function R(e,n,t,i,s,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",E,[(0,o._)("div",A,[(0,o._)("p",j,(0,f.zw)(e.label),1),(0,o._)("p",{class:(0,f.C_)([{anonymous:e.anonymous},"value-text"]),title:e.anonymous?"":e.value},(0,f.zw)(e.anonymous?"Hidden":e.value),11,W)]),(0,o._)("button",{class:(0,f.C_)(["collapse-button",{hidden:!e.hasAdditionalInfo}]),onClick:n[0]||(n[0]=function(){return e.toggleIsCollapsed&&e.toggleIsCollapsed.apply(e,arguments)})},[e.isCollapsed?((0,o.wg)(),(0,o.iD)("img",B)):((0,o.wg)(),(0,o.iD)("img",V))],2)]),(0,o._)("div",{class:(0,f.C_)(["additional-info",{hidden:!e.isCollapsed}])},[(0,o._)("p",q,(0,f.zw)(e.additionalInfoTitle),1),(0,o.WI)(e.$slots,"default",{},void 0,!0)],2),Y],64)}var U=(0,o.aZ)({name:"TextInformation",props:{label:{type:String,required:!0},value:{required:!0},hasAdditionalInfo:{type:Boolean,default:!1},additionalInfoTitle:{type:String,default:""},anonymous:{type:Boolean,default:!1}},setup:function(){var e=(0,Z.iH)(!1),n=function(){return e.value=!e.value};return{isCollapsed:e,toggleIsCollapsed:n}}});const J=(0,a.Z)(U,[["render",R],["__scopeId","data-v-6396abae"]]);var K=J,$={class:"wrapper"};function G(e,n,t,i,s,r){var a=(0,o.up)("BarChart");return(0,o.wg)(),(0,o.iD)("div",$,[(0,o.Wm)(a,{class:"chart",chartData:e.chartData,options:e.options},null,8,["chartData","options"])])}var X=t(5957),Q=t(2820),ee=t(3328),ne=t(8278);ee.kL.register.apply(ee.kL,(0,X.Z)(ee.zX)),ee.kL.register(ne.Z);var te=(0,o.aZ)({name:"DistributionDiagram",components:{BarChart:Q.vz},props:{distribution:{type:Array,required:!0}},setup:function(e){var n=(0,Z.iH)(Math.max.apply(Math,(0,X.Z)(e.distribution))),t=(0,Z.iH)({labels:["0-10%","11-20%","21-30%","31-40%","41-50%","51-60%","61-70%","71-80%","81-90%","91-100%"],datasets:[{label:"Count",data:e.distribution,backgroundColor:"rgba(149, 168, 241, 0.5)",borderWidth:2,borderColor:"rgba(149, 168, 241, 1)",tickColor:"#000000"}]}),i=(0,Z.iH)({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{suggestedMax:n.value+5,ticks:{color:"#000000"}},y:{ticks:{color:"#000000"}}},plugins:{datalabels:{color:"#000000",font:{weight:"bold"},anchor:"end",align:"end",clamp:!0},legend:{display:!1}}});return(0,o.YP)((function(){return e.distribution}),(function(e){t.value={labels:["0-10%","11-20%","21-30%","31-40%","41-50%","51-60%","61-70%","71-80%","81-90%","91-100%"],datasets:[{label:"Count",data:e,backgroundColor:"rgba(149, 168, 241, 0.5)",borderWidth:2,borderColor:"rgba(149, 168, 241, 1)"}]},n.value=Math.max.apply(Math,(0,X.Z)(e)),i.value={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{suggestedMax:n.value+5,ticks:{color:"#000000"}},y:{ticks:{color:"#000000"}}},plugins:{datalabels:{color:"#000000",font:{weight:"bold"},anchor:"end",align:"end",clamp:!0},legend:{display:!1}}}})),{chartData:t,options:i}}});const ie=(0,a.Z)(te,[["render",G],["__scopeId","data-v-48645113"]]);var oe=ie,se=t(164),re=function(e){return(0,o.dD)("data-v-a32c162c"),e=e(),(0,o.Cn)(),e},ae={class:"metric"},le={class:"metric-name"},ue=re((function(){return(0,o._)("img",{src:se,alt:"?"},null,-1)})),ce={class:"threshold"},de=re((function(){return(0,o._)("p",null,"Threshold: ",-1)}));function fe(e,n,t,i,s,r){return(0,o.wg)(),(0,o.iD)("div",{class:(0,f.C_)(["wrapper",{selected:e.isSelected}])},[(0,o._)("div",ae,[(0,o._)("p",le,(0,f.zw)(e.metricName),1),ue]),(0,o._)("div",ce,[de,(0,o._)("p",null,(0,f.zw)(e.metricThreshold)+"%",1)])],2)}t(9653);var me=(0,o.aZ)({name:"MetricButton",props:{metricName:{type:String,required:!0},metricThreshold:{type:Number,required:!0},isSelected:{type:Boolean,default:!1}},setup:function(){return{}}});const pe=(0,a.Z)(me,[["render",fe],["__scopeId","data-v-a32c162c"]]);var he=pe,ge=t(7068),ve=function(e){return(0,o.dD)("data-v-31a6eab8"),e=e(),(0,o.Cn)(),e},be=ve((function(){return(0,o._)("tr",{class:"head-row"},[(0,o._)("th",null,"No."),(0,o._)("th",null,"Submission 1"),(0,o._)("th"),(0,o._)("th",null,"Submission 2"),(0,o._)("th",null,"Match %")],-1)})),_e=["onClick"],ye=["onClick"],we=["onClick"],Se=ve((function(){return(0,o._)("img",{src:ge,alt:">>"},null,-1)})),Ce=[Se],ke=["onClick"];function Ie(e,n,t,i,s,r){var a=(0,o.up)("ClustersList"),l=(0,o.up)("GDialog");return(0,o.wg)(),(0,o.iD)("table",null,[be,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.topComparisons,(function(t,i){return(0,o.wg)(),(0,o.iD)("tr",{key:t.firstSubmissionId+t.secondSubmissionId+t.matchPercentage,class:"selectable"},[(0,o._)("td",{onClick:function(n){return e.navigateToComparisonView(t.firstSubmissionId,t.secondSubmissionId)}},(0,f.zw)(i+1)+".",9,_e),(0,o._)("td",{class:(0,f.C_)({"anonymous-style":e.isAnonymous(t.firstSubmissionId)}),onClick:function(n){return e.navigateToComparisonView(t.firstSubmissionId,t.secondSubmissionId)}},(0,f.zw)(e.isAnonymous(t.firstSubmissionId)?"Hidden":t.firstSubmissionId),11,ye),(0,o._)("td",{onClick:function(n){return e.navigateToComparisonView(t.firstSubmissionId,t.secondSubmissionId)}},Ce,8,we),(0,o._)("td",{class:(0,f.C_)({"anonymous-style":e.isAnonymous(t.secondSubmissionId)}),onClick:function(n){return e.navigateToComparisonView(t.firstSubmissionId,t.secondSubmissionId)}},(0,f.zw)(e.isAnonymous(t.secondSubmissionId)?"Hidden":t.secondSubmissionId),11,ke),(0,o._)("td",null,(0,f.zw)(e.formattedMatchPercentage(t.matchPercentage)),1),(0,o._)("td",null,[e.isInCluster(t.firstSubmissionId,t.secondSubmissionId)?((0,o.wg)(),(0,o.iD)("img",{key:0,src:L,alt:">>",onClick:n[0]||(n[0]=function(){return e.toggleDialog&&e.toggleDialog.apply(e,arguments)})})):(0,o.kq)("",!0)]),(0,o.Wm)(l,{modelValue:e.dialog,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.dialog=n})},{default:(0,o.w5)((function(){return[(0,o.Wm)(a,{clusters:e.getClustersFor(t.firstSubmissionId,t.secondSubmissionId),comparison:t},null,8,["clusters","comparison"])]})),_:2},1032,["modelValue"])])})),128))])}t(6977),t(6699),t(2023),t(4747),t(7941);var De=t(4325),Fe={class:"wrapper"};function Oe(e,n,t,i,s,r){var a=(0,o.up)("ClusterRadarChart"),l=(0,o.up)("GDialog");return(0,o.wg)(),(0,o.iD)("div",Fe,[(0,o._)("h1",null,"Clusters for comparison "+(0,f.zw)(e.comparison.firstSubmissionId)+" > "+(0,f.zw)(e.comparison.secondSubmissionId),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.clusters,(function(t,i){return(0,o.wg)(),(0,o.iD)("p",{key:i,onClick:n[2]||(n[2]=function(){return e.toggleDialog&&e.toggleDialog.apply(e,arguments)})},[(0,o.Uk)((0,f.zw)(i)+" - "+(0,f.zw)(t.average_similarity)+" ",1),(0,o.Wm)(l,{modelValue:e.dialog,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.dialog=n}),fullscreen:""},{default:(0,o.w5)((function(){return[(0,o._)("button",{onClick:n[0]||(n[0]=function(){return e.toggleDialog&&e.toggleDialog.apply(e,arguments)})},"Close"),(0,o.Wm)(a,{cluster:t},null,8,["cluster"])]})),_:2},1032,["modelValue"])])})),128))])}var xe={class:"wrapper"};function Me(e,n,t,s,r,a){var l=(0,o.up)("RadarChart");return(0,o.wg)(),(0,o.iD)("div",xe,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.selectedMember=n})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Object.keys(e.cluster.members),(function(e,n){return(0,o.wg)(),(0,o.iD)("option",{key:n},(0,f.zw)(e),1)})),128))],512),[[i.bM,e.selectedMember]]),(0,o.Wm)(l,{class:"chart",chartData:e.chartData,options:e.options},null,8,["chartData","options"])])}t(8862);ee.kL.register.apply(ee.kL,(0,X.Z)(ee.zX)),ee.kL.register(ne.Z);var Ze=(0,o.aZ)({name:"ClusterRadarChart",components:{RadarChart:Q.HM},props:{cluster:{}},setup:function(e){var n=(0,Z.iH)(""),t=((0,Z.iH)([]),function(n){var t=[];return e.cluster.members[n].forEach((function(e){return t.push(e.matchedWith)})),t}),i=function(n){var t=[];return e.cluster.members[n].forEach((function(e){return t.push(e.percentage)})),t},s=(0,Z.iH)({labels:t(Object.keys(e.cluster.members)[0]),datasets:[{label:Object.keys(e.cluster.members)[0],data:i(Object.keys(e.cluster.members)[0]),fill:!0,backgroundColor:"rgba(149, 168, 241, 0.5)",borderColor:"rgba(149, 168, 241, 1)",pointBackgroundColor:"rgba(149, 168, 241, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(255, 99, 132)"}]}),r=(0,Z.iH)({scales:{r:{suggestedMin:50,suggestedMax:100}}});return(0,o.YP)((function(){return n.value}),(function(e){console.log("Selected member is "+e),console.log(JSON.stringify(t(e))),s.value={labels:t(e),datasets:[{label:e,data:i(e),fill:!0,backgroundColor:"rgba(149, 168, 241, 0.5)",borderColor:"rgba(149, 168, 241, 1)",pointBackgroundColor:"rgba(149, 168, 241, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(255, 99, 132)"}]}})),{selectedMember:n,chartData:s,options:r}}});const Te=(0,a.Z)(Ze,[["render",Me],["__scopeId","data-v-163890f3"]]);var Pe=Te,ze=(0,o.aZ)({name:"ClustersList",components:{ClusterRadarChart:Pe,GDialog:De.Yf},props:{comparison:{},clusters:Array},setup:function(){var e=(0,Z.iH)(!1),n=function(){return e.value=!e.value};return{dialog:e,toggleDialog:n}}});const He=(0,a.Z)(ze,[["render",Oe],["__scopeId","data-v-6f68d57b"]]);var Le=He,Ne=(0,o.aZ)({name:"ComparisonsTable",components:{ClustersList:Le,GDialog:De.Yf},props:{topComparisons:{type:Array,required:!0},clusters:{type:Array}},setup:function(e){var n=function(e){return e.toFixed(2)},t=(0,Z.iH)(!1),i=function(){t.value=!0},o=function(e,n){z.state.single||ht.push({name:"ComparisonView",query:{id1:e,id2:n}})},s=function(n,t){return e.clusters.some((function(e){return e.members.includes(n)&&e.members.includes(t)}))},r=function(e){return z.state.anonymous.has(e)},a=function(n,t){var i=[];return e.topComparisons.forEach((function(e){e.firstSubmissionId.includes(n)&&t.includes(e.secondSubmissionId)?(console.log("Pushing"),i.push({matchedWith:e.secondSubmissionId,percentage:e.matchPercentage})):e.secondSubmissionId.includes(n)&&t.includes(e.firstSubmissionId)&&(console.log("Pushing"),i.push({matchedWith:e.firstSubmissionId,percentage:e.matchPercentage}))})),i},l=e.clusters.map((function(e){var n={};return e.members.forEach((function(t){var i=e.members.filter((function(e){return!e.includes(t)}));n[t]=a(t,i)})),{avgSim:e.avgSim,members:n}})),u=function(e,n){return l.filter((function(t){return Object.keys(t.members).includes(e)&&Object.keys(t.members).includes(n)}))};return{clustersWithParticipatingMatches:l,dialog:t,isAnonymous:r,getClustersFor:u,toggleDialog:i,formattedMatchPercentage:n,navigateToComparisonView:o,isInCluster:s}}});const Ee=(0,a.Z)(Ne,[["render",Ie],["__scopeId","data-v-31a6eab8"]]);var Ae=Ee,je=t(3087),We=t(2833),Be=(t(8309),t(2482)),Ve=function(){function e(n,t,i,o,s,r,a,l,u,c){(0,je.Z)(this,e),(0,Be.Z)(this,"_submissionFolderPath",void 0),(0,Be.Z)(this,"_baseCodeFolderPath",void 0),(0,Be.Z)(this,"_language",void 0),(0,Be.Z)(this,"_fileExtensions",void 0),(0,Be.Z)(this,"_matchSensitivity",void 0),(0,Be.Z)(this,"_submissionIds",void 0),(0,Be.Z)(this,"_dateOfExecution",void 0),(0,Be.Z)(this,"_durationOfExecution",void 0),(0,Be.Z)(this,"_metrics",void 0),(0,Be.Z)(this,"_clusters",void 0),this._submissionFolderPath=n,this._baseCodeFolderPath=t,this._language=i,this._fileExtensions=o,this._matchSensitivity=s,this._submissionIds=r,this._dateOfExecution=a,this._durationOfExecution=l,this._metrics=u,this._clusters=c}return(0,We.Z)(e,[{key:"submissionFolderPath",get:function(){return this._submissionFolderPath}},{key:"baseCodeFolderPath",get:function(){return this._baseCodeFolderPath}},{key:"language",get:function(){return this._language}},{key:"fileExtensions",get:function(){return this._fileExtensions}},{key:"matchSensitivity",get:function(){return this._matchSensitivity}},{key:"submissionIds",get:function(){return this._submissionIds}},{key:"dateOfExecution",get:function(){return this._dateOfExecution}},{key:"durationOfExecution",get:function(){return this._durationOfExecution}},{key:"metrics",get:function(){return this._metrics}},{key:"clusters",get:function(){return this._clusters}}]),e}(),qe=function(){function e(){(0,je.Z)(this,e)}return(0,We.Z)(e,null,[{key:"getOverview",value:function(e){var n=e.submission_folder_path,t="",i=e.language,o=e.file_extensions,s=e.match_sensitivity,r=e.submission_ids,a=e.date_of_execution,l=e.execution_time,u=[],c=[];return e.metrics.forEach((function(e){var n=e,t=[];n.topComparisons.forEach((function(e){var n={firstSubmissionId:e.first_submission,secondSubmissionId:e.second_submission,matchPercentage:e.match_percentage};t.push(n)}));var i={metricName:n.name,metricThreshold:n.threshold,distribution:n.distribution,comparisons:t};u.push(i)})),e.clusters&&e.clusters.forEach((function(e){var n=e,t={averageSimilarity:n.average_similarity,strength:n.strength,members:n.members};c.push(t)})),new Ve(n,t,i,o,s,r,a,l,u,c)}}]),e}(),Ye={class:"container"},Re={class:"column-list"},Ue=["onClick"];function Je(e,n,t,i,s,r){return(0,o.wg)(),(0,o.iD)("div",Ye,[(0,o._)("div",Re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.ids,(function(n,t){return(0,o.wg)(),(0,o.iD)("p",{key:t,onClick:function(t){return e.$emit("idSent",[n])}},(0,f.zw)(n),9,Ue)})),128))]),(0,o._)("button",{onClick:n[0]||(n[0]=function(n){return e.$emit("idSent",e.ids)})},"Hide/Show all")])}var Ke=(0,o.aZ)({name:"IDsList",props:{ids:{type:Array,required:!0}},setup:function(e){var n=e.ids;return{savedIds:n}}});const $e=(0,a.Z)(Ke,[["render",Je],["__scopeId","data-v-fddc14f2"]]);var Ge=$e,Xe=(0,o.aZ)({name:"OverviewView",components:{IDsList:Ge,ComparisonsTable:Ae,DistributionDiagram:oe,MetricButton:he,TextInformation:K},setup:function(){var e;if(z.state.local)try{e=qe.getOverview(t(Object(function(){var e=new Error("Cannot find module '../files/overview.json'");throw e.code="MODULE_NOT_FOUND",e}())))}catch(c){ht.back()}else z.state.zip?e=qe.getOverview(JSON.parse(z.state.files["overview.json"])):z.state.single&&(e=qe.getOverview(JSON.parse(z.state.fileString)));var n=function(n){n.length===e.submissionIds.length?z.state.anonymous.size>0?z.commit("resetAnonymous"):z.commit("addAnonymous",n):z.state.anonymous.has(n[0])?z.commit("removeAnonymous",n):0===z.state.anonymous.size?z.commit("addAnonymous",e.submissionIds.filter((function(e){return e!==n[0]}))):z.commit("addAnonymous",n)},i=(0,Z.iH)(e.metrics.map((function(){return!1}))),o=(0,Z.iH)(0);i.value[0]=!0;var s=function(e){i.value=i.value.map((function(){return!1})),i.value[e]=!0,o.value=e},r=(0,Z.iH)(e.metrics.map((function(e){return e.distribution}))),a=(0,Z.iH)(e.metrics.map((function(e){return e.comparisons}))),l=e.submissionFolderPath.length>1,u=l?"Click arrow to see all paths":e.submissionFolderPath[0];return{overview:e,selectedMetricIndex:o,selectedMetric:i,distributions:r,topComps:a,hasMoreSubmissionPaths:l,submissionPathValue:u,handleId:n,selectMetric:s,store:z}}});const Qe=(0,a.Z)(Xe,[["render",M],["__scopeId","data-v-5b368afb"]]);var en=Qe,nn=t(689),tn=t(5671),on=function(e){return(0,o.dD)("data-v-17889c52"),e=e(),(0,o.Cn)(),e},sn={class:"container"},rn=on((function(){return(0,o._)("img",{src:nn,alt:"show"},null,-1)})),an=[rn],ln={class:"title-section"},un=on((function(){return(0,o._)("h1",null,"JPlag Comparison",-1)})),cn=on((function(){return(0,o._)("img",{src:tn,alt:"hide"},null,-1)})),dn=[cn];function fn(e,n,t,i,s,r){var a=(0,o.up)("TextInformation"),l=(0,o.up)("MatchTable"),u=(0,o.up)("FilesContainer");return(0,o.wg)(),(0,o.iD)("div",sn,[(0,o._)("button",{id:"show-button",class:(0,f.C_)({hidden:!e.hideLeftPanel}),onClick:n[0]||(n[0]=function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),title:"Show sidebar"},an,2),(0,o._)("div",{id:"sidebar",class:(0,f.C_)({hidden:e.hideLeftPanel})},[(0,o._)("div",ln,[un,(0,o._)("button",{id:"hide-button",onClick:n[1]||(n[1]=function(){return e.togglePanel&&e.togglePanel.apply(e,arguments)}),title:"Hide sidebar"},dn)]),(0,o.Wm)(a,{label:"Submission 1",value:e.id1,anonymous:e.store.state.anonymous.has(e.id1)},null,8,["value","anonymous"]),(0,o.Wm)(a,{label:"Submission 2",value:e.id2,anonymous:e.store.state.anonymous.has(e.id2)},null,8,["value","anonymous"]),(0,o.Wm)(a,{label:"Match %",value:e.comparison.match_percentage},null,8,["value"]),(0,o.Wm)(l,{matches:e.comparison.allMatches,id1:e.id1,id2:e.id2,onMatchSelected:e.showMatch},null,8,["matches","id1","id2","onMatchSelected"])],2),(0,o.Wm)(u,{matches:e.comparison.matchesInFirstSubmission,files:e.filesOfFirst,"container-id":1,"files-owner":"Submission 1",onToggleCollapse:e.toggleCollapseFirst,onLineSelected:e.showMatchInSecond},null,8,["matches","files","onToggleCollapse","onLineSelected"]),(0,o.Wm)(u,{matches:e.comparison.matchesInSecondSubmissions,files:e.filesOfSecond,"container-id":2,"files-owner":"Submission 2",onToggleCollapse:e.toggleCollapseSecond,onLineSelected:e.showMatchInFirst},null,8,["matches","files","onToggleCollapse","onLineSelected"])])}t(2222),t(4916),t(3123);function mn(e,n,t){return String(e).concat(n).concat(String(t))}function pn(e){if(e.name.includes(".")){var n=e.name.split(".");return n[n.length-1]}return""}var hn=function(e){return(0,o.dD)("data-v-bd7e8766"),e=e(),(0,o.Cn)(),e},gn={class:"match-table-container"},vn=hn((function(){return(0,o._)("tr",null,[(0,o._)("th",null,"Submission 1"),(0,o._)("th",null,"Submission 2")],-1)})),bn=hn((function(){return(0,o._)("tr",null,[(0,o._)("th",null,"File 1"),(0,o._)("th",null,"File 2"),(0,o._)("th",null,"Tokens")],-1)})),_n=["onClick"],yn={class:"td-content"},wn={class:"td-content"};function Sn(e,n,t,i,s,r){return(0,o.wg)(),(0,o.iD)("div",gn,[(0,o._)("table",null,[vn,bn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.matches,(function(n,t){return(0,o.wg)(),(0,o.iD)("tr",{key:String(t).concat(n.startInFirst).concat(n.startInSecond),onClick:function(t){return e.$emit("matchSelected",t,n)},style:(0,f.j5)({background:n.color})},[(0,o._)("td",null,[(0,o._)("div",yn,[(0,o._)("p",null,(0,f.zw)(n.firstFile),1),(0,o._)("p",null,"("+(0,f.zw)(n.startInFirst)+" - "+(0,f.zw)(n.endInFirst)+")",1)])]),(0,o._)("td",null,[(0,o._)("div",wn,[(0,o._)("p",null,(0,f.zw)(n.secondFile),1),(0,o._)("p",null,"("+(0,f.zw)(n.startInSecond)+" - "+(0,f.zw)(n.endInSecond)+")",1)])]),(0,o._)("td",null,(0,f.zw)(n.tokens),1)],12,_n)})),128))])])}var Cn=(0,o.aZ)({name:"MatchTable",props:{matches:{type:Array},id1:{type:String},id2:{type:String}},setup:function(){return{}}});const kn=(0,a.Z)(Cn,[["render",Sn],["__scopeId","data-v-bd7e8766"]]);var In=kn,Dn=(t(3689),function(){function e(n,t,i){(0,je.Z)(this,e),(0,Be.Z)(this,"_firstSubmissionId",void 0),(0,Be.Z)(this,"_secondSubmissionId",void 0),(0,Be.Z)(this,"_match_percentage",void 0),(0,Be.Z)(this,"_filesOfFirstSubmission",void 0),(0,Be.Z)(this,"_filesOfSecondSubmission",void 0),(0,Be.Z)(this,"_colors",void 0),(0,Be.Z)(this,"_allMatches",void 0),(0,Be.Z)(this,"_matchesInFirstSubmission",void 0),(0,Be.Z)(this,"_matchesInSecondSubmissions",void 0),this._firstSubmissionId=n,this._secondSubmissionId=t,this._match_percentage=i,this._filesOfFirstSubmission={},this._filesOfSecondSubmission={},this._colors=[],this._allMatches=[],this._matchesInFirstSubmission={},this._matchesInSecondSubmissions={}}return(0,We.Z)(e,[{key:"firstSubmissionId",get:function(){return this._firstSubmissionId}},{key:"secondSubmissionId",get:function(){return this._secondSubmissionId}},{key:"match_percentage",get:function(){return this._match_percentage}},{key:"filesOfFirstSubmission",get:function(){return this._filesOfFirstSubmission},set:function(e){this._filesOfFirstSubmission=e}},{key:"filesOfSecondSubmission",get:function(){return this._filesOfSecondSubmission},set:function(e){this._filesOfSecondSubmission=e}},{key:"colors",get:function(){return this._colors},set:function(e){this._colors=e}},{key:"allMatches",get:function(){return this._allMatches},set:function(e){this._allMatches=e}},{key:"matchesInFirstSubmission",get:function(){return this._matchesInFirstSubmission},set:function(e){this._matchesInFirstSubmission=e}},{key:"matchesInSecondSubmissions",get:function(){return this._matchesInSecondSubmissions},set:function(e){this._matchesInSecondSubmissions=e}}]),e}()),Fn=function(){function e(){(0,je.Z)(this,e)}return(0,We.Z)(e,null,[{key:"getComparison",value:function(e){var n=this,t=this.convertToFilesByName(e.files_of_first_submission),i=this.convertToFilesByName(e.files_of_second_submission),o=e.matches,s=this.generateColorsForMatches(o.length),r=o.map((function(e,t){return n.mapMatch(e,s[t])})),a=this.groupMatchesByFileName(r,1),l=this.groupMatchesByFileName(r,2),u=new Dn(e.first_submission_id,e.second_submission_id,e.match_percentage);return u.filesOfFirstSubmission=t,u.filesOfSecondSubmission=i,u.colors=s,u.allMatches=r,u.matchesInFirstSubmission=a,u.matchesInSecondSubmissions=l,u}},{key:"convertToFilesByName",value:function(e){return e.reduce((function(e,n){return e[n.file_name]||(e[n.file_name]={lines:[],collapsed:!1}),e[n.file_name]={lines:n.lines,collapsed:!1},e}),{})}},{key:"groupMatchesByFileName",value:function(e,n){return e.reduce((function(e,t){var i=1===n?t.firstFile:t.secondFile;if(e[i]||(e[i]=[]),1===n){var o={start:t.startInFirst,end:t.endInFirst,linked_panel:2,linked_file:t.secondFile,linked_line:t.startInSecond,color:t.color};e[i].push(o)}else{var s={start:t.startInSecond,end:t.endInSecond,linked_panel:1,linked_file:t.firstFile,linked_line:t.startInFirst,color:t.color};e[i].push(s)}return e}),{})}},{key:"generateColorsForMatches",value:function(e){for(var n=[],t=Math.trunc(360/e),i=0;i<e;i++){var o=i*t;n.push("hsla(".concat(o,", 80%, 50%, 0.3)"))}return n}},{key:"mapMatch",value:function(e,n){return{firstFile:e.first_file_name,secondFile:e.second_file_name,startInFirst:e.start_in_first,endInFirst:e.end_in_first,startInSecond:e.start_in_second,endInSecond:e.end_in_second,tokens:e.tokens,color:n}}}]),e}(),On={class:"files-container"};function xn(e,n,t,i,s,r){var a=(0,o.up)("CodePanel"),l=(0,o.up)("VueDraggableNext");return(0,o.wg)(),(0,o.iD)("div",On,[(0,o._)("h1",null,"Files of "+(0,f.zw)(e.filesOwner),1),(0,o.Wm)(l,null,{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(Object.keys(e.files),(function(n,t){return(0,o.wg)(),(0,o.j4)(a,{lines:e.files[n].lines,title:n,"file-index":t,matches:e.matches[n]?e.matches[n]:[],key:n.concat(t),collapse:e.files[n].collapsed,onToggleCollapse:function(t){return e.$emit("toggle-collapse",n)},onLineSelected:e.lineSelected,"panel-id":e.containerId},null,8,["lines","title","file-index","matches","collapse","onToggleCollapse","onLineSelected","panel-id"])})),128))]})),_:1})])}t(9714);var Mn=["id"],Zn={class:"file-title"},Tn={style:{width:"90%"}},Pn={key:0,src:H,alt:"hide info"},zn={key:1,src:L,alt:"additional info"};function Hn(e,n,t,i,s,r){var a=(0,o.up)("LineOfCode");return(0,o.wg)(),(0,o.iD)("div",{class:"code-panel-container",id:e.panelId.toString().concat(e.title).concat(e.fileIndex.toString())},[(0,o._)("div",Zn,[(0,o._)("p",Tn,(0,f.zw)(e.title),1),(0,o._)("button",{style:{width:"10%"},class:"collapse-button",onClick:n[0]||(n[0]=function(n){return e.$emit("toggleCollapse")})},[e.collapse?((0,o.wg)(),(0,o.iD)("img",Pn)):((0,o.wg)(),(0,o.iD)("img",zn))])]),(0,o._)("div",{class:(0,f.C_)(["code-container",{hidden:!e.collapse}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.lines,(function(n,t){return(0,o.wg)(),(0,o.j4)(a,{visible:e.collapse,key:t,color:e.coloringArray[t],"line-number":t,text:n,id:String(e.panelId).concat(e.title).concat(t),"is-last":e.isLast[t],"is-first":e.isFirst[t],onClick:function(n){return e.$emit("lineSelected",n,e.linksArray[t].panel,e.linksArray[t].file,e.linksArray[t].line)}},null,8,["visible","color","line-number","text","id","is-last","is-first","onClick"])})),128))],2)],8,Mn)}var Ln=["id"];function Nn(e,n,t,i,s,r){return(0,o.wg)(),(0,o.iD)("div",{class:(0,f.C_)(["line-wrap",{"first-line":e.isFirst,"last-line":e.isLast,visible:e.visible}]),style:(0,f.j5)({background:e.color})},[(0,o._)("pre",{ref:"lineRef",id:e.text,class:(0,f.C_)(["java",{"match-line":"#ECECEC"!==e.color}])},(0,f.zw)(e.lineNumber)+" "+(0,f.zw)(e.text),11,Ln)],6)}var En=t(637),An=(0,o.aZ)({name:"LineOfCode",props:{visible:{type:Boolean,required:!0},text:{type:String,required:!0},lineNumber:{type:Number,required:!0},color:{required:!0},fileIndex:{type:Number},isFirst:{type:Boolean},isLast:{type:Boolean}},setup:function(e){var n=!1,t=(0,Z.iH)(null);return(0,o.ic)((function(){e.visible&&!n&&(En.Z.highlightElement(t.value),n=!0)})),{lineRef:t}}});const jn=(0,a.Z)(An,[["render",Nn],["__scopeId","data-v-658258ff"]]);var Wn=jn,Bn=(0,o.aZ)({name:"CodePanel",components:{LineOfCode:Wn},props:{title:{type:String},fileIndex:{type:Number},lines:{type:Array,required:!0},matches:{type:Array},panelId:{type:Number},collapse:{type:Boolean}},setup:function(e){var n=(0,Z.iH)({}),t=(0,Z.iH)({}),i=(0,Z.iH)({}),o=(0,Z.iH)({});e.matches.forEach((function(e){for(var s=e.start;s<=e.end;s++)n.value[s]=e.color,t.value[s]={panel:e.linked_panel,file:e.linked_file,line:e.linked_line},s===e.start&&(o.value[s]=!0),s===e.end&&(i.value[s]=!0)}));for(var s=0;s<e.lines.length;s++)n.value[s]||(n.value[s]="#FFFFFF",t.value[s]="-1",o.value[s]=!1,i.value[s]=!1);return{coloringArray:n,linksArray:t,isFirst:o,isLast:i}}});const Vn=(0,a.Z)(Bn,[["render",Hn],["__scopeId","data-v-f5094374"]]);var qn=Vn,Yn=t(8496),Rn=(0,o.aZ)({name:"FilesContainer",components:{CodePanel:qn,VueDraggableNext:Yn.J},props:{containerId:{type:Number,required:!0},filesOwner:{type:String,required:!0},files:{required:!0},matches:{required:!0}},setup:function(e,n){var t=n.emit,i=function(e,n,i,o){t("lineSelected",e,n,i,o)};return{lineSelected:i}}});const Un=(0,a.Z)(Rn,[["render",xn],["__scopeId","data-v-42a3c92b"]]);var Jn=Un,Kn=(0,o.aZ)({name:"ComparisonView",components:{FilesContainer:Jn,MatchTable:In,TextInformation:K},props:{id1:{type:String},id2:{type:String}},setup:function(e){var n,t=e.id1.concat("-").concat(e.id2),i=e.id2.concat("-").concat(e.id1);if(z.state.local)try{n=Fn.getComparison(Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(m){try{n=Fn.getComparison(Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(m){ht.back()}}else z.state.zip?n=z.state.files[t.concat(".json")]?Fn.getComparison(JSON.parse(z.state.files[t.concat(".json")])):Fn.getComparison(JSON.parse(z.state.files[i.concat(".json")])):z.state.single&&(n=Fn.getComparison(JSON.parse(z.state.fileString)));var o=(0,Z.iH)(n.filesOfFirstSubmission),s=(0,Z.iH)(n.filesOfSecondSubmission),r=function(e){o.value[e].collapsed=!o.value[e].collapsed},a=function(e){s.value[e].collapsed=!s.value[e].collapsed},l=function(e,n,t,i){o.value[t].collapsed||r(t),document.getElementById(mn(n,t,i)).scrollIntoView()},u=function(e,n,t,i){s.value[t].collapsed||a(t),document.getElementById(mn(n,t,i)).scrollIntoView()},c=function(e,n){l(e,1,n.firstFile,n.startInFirst),u(e,2,n.secondFile,n.startInSecond)},d=(0,Z.iH)(!0),f=function(){d.value=!d.value};return{comparison:n,filesOfFirst:o,filesOfSecond:s,hideLeftPanel:d,toggleCollapseFirst:r,toggleCollapseSecond:a,showMatchInFirst:l,showMatchInSecond:u,showMatch:c,togglePanel:f,store:z}}});const $n=(0,a.Z)(Kn,[["render",fn],["__scopeId","data-v-17889c52"]]);var Gn=$n,Xn=function(e){return(0,o.dD)("data-v-c4b57b24"),e=e(),(0,o.Cn)(),e},Qn=Xn((function(){return(0,o._)("img",{src:m,alt:"JPlag"},null,-1)})),et=Xn((function(){return(0,o._)("h1",null,"JPlag Report Viewer",-1)})),nt=Xn((function(){return(0,o._)("h2",null,"Select an overview or comparison file or a zip to display.",-1)})),tt=Xn((function(){return(0,o._)("p",null," Drop a .json or .zip file here",-1)})),it=[tt],ot={key:0,class:"local-files-container"},st=Xn((function(){return(0,o._)("p",{class:"local-files-text"},"Detected local files!",-1)}));function rt(e,n,t,s,r,a){return(0,o.wg)(),(0,o.iD)("div",{class:"container",onDragover:n[2]||(n[2]=(0,i.iM)((function(){}),["prevent"])),onDrop:n[3]||(n[3]=(0,i.iM)((function(){}),["prevent"]))},[Qn,et,nt,(0,o._)("div",{class:"drop-container",onDrop:n[0]||(n[0]=function(){return e.uploadFile&&e.uploadFile.apply(e,arguments)})},it,32),e.hasLocalFile?((0,o.wg)(),(0,o.iD)("div",ot,[st,(0,o._)("button",{class:"local-files-button",onClick:n[1]||(n[1]=function(){return e.continueWithLocal&&e.continueWithLocal.apply(e,arguments)})},"Continue with local files")])):(0,o.kq)("",!0)],32)}var at=t(8534),lt=(t(5666),t(5733)),ut=t.n(lt),ct=(0,o.aZ)({name:"FileUpload",setup:function(){var e;try{t(Object(function(){var e=new Error("Cannot find module '../files/overview.json'");throw e.code="MODULE_NOT_FOUND",e}())),e=!0}catch(l){console.log(l),e=!1}var n=function(){ht.push({name:"OverviewView"})},i=function(e,n){ht.push({name:"ComparisonView",query:{id1:e,id2:n}})},o=function(e){ut().loadAsync(e).then(function(){var e=(0,at.Z)(regeneratorRuntime.mark((function e(t){var i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s[o],console.log(n),e.next=4,t.files[n].async("string").then((function(e){z.commit("saveFile",{fileName:n,data:e})}));case 4:case"end":return e.stop()}}),e)})),o=0,s=Object.keys(t.files);case 2:if(!(o<s.length)){e.next=7;break}return e.delegateYield(i(),"t0",4);case 4:o++,e.next=2;break;case 7:z.commit("setLoadingType",{local:!1,zip:!0,single:!1,fileString:""}),n();case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},s=function(e){var t=JSON.parse(e);t["submission_folder_path"]?(z.commit("setLoadingType",{local:!1,zip:!1,single:!0,fileString:e}),n()):t["first_submission_id"]&&t["second_submission_id"]&&(z.commit("setLoadingType",{local:!1,zip:!1,single:!0,fileString:e}),i(t["first_submission_id"],t["second_submission_id"]))},r=function(e){var n=e.dataTransfer.files;if(n){var t=(0,X.Z)(n);if(!(t.length>1||0===t.length)){var i=new FileReader;i.onload=function(e){var n=pn(t[0]);"zip"===n?o(t[0]):"json"===n&&s(e.target.result)},i.readAsText(t[0])}}},a=function(){z.commit("setLoadingType",{local:!0,zip:!1,single:!1,fileString:""}),n()};return{continueWithLocal:a,uploadFile:r,hasLocalFile:e}}});const dt=(0,a.Z)(ct,[["render",rt],["__scopeId","data-v-c4b57b24"]]);var ft=dt,mt=[{path:"/",name:"FileUpload",component:ft},{path:"/overview",name:"OverviewView",component:en},{path:"/comparison",name:"ComparisonView",component:Gn,props:function(e){return{id1:e.query.id1,id2:e.query.id2}}}],pt=(0,d.p7)({history:(0,d.PO)(),routes:mt}),ht=pt;t(3879);(0,i.ri)(c).use(ht).use(z).mount("#app")},7068:function(e,n,t){e.exports=t.p+"img/double_arrow_black_18dp.138ba432.svg"},689:function(e,n,t){e.exports=t.p+"img/double_arrow_black_24dp.6ffebc17.svg"},164:function(e,n,t){e.exports=t.p+"img/help_outline_black_18dp.92160fb9.svg"},6838:function(e,n,t){e.exports=t.p+"img/keyboard_double_arrow_down_black_18dp.1dc03f43.svg"},5671:function(e,n,t){e.exports=t.p+"img/keyboard_double_arrow_left_black_24dp.5c0d792d.svg"},6108:function(e,n,t){e.exports=t.p+"img/keyboard_double_arrow_up_black_18dp.5defbec8.svg"},5174:function(e,n,t){e.exports=t.p+"img/logo-nobg.fe65cd9a.png"}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var s=n[i]={exports:{}};return e[i](s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(n,i,o,s){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var u=o();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,o,s]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var o,s,r=i[0],a=i[1],l=i[2],u=0;if(r.some((function(n){return 0!==e[n]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(l)var c=l(t)}for(n&&n(i);u<r.length;u++)s=r[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},i=self["webpackChunkreport_viewer"]=self["webpackChunkreport_viewer"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(1728)}));i=t.O(i)})();
//# sourceMappingURL=app-legacy.83aa0f3d.js.map